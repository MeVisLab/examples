<!doctype html><html><head><title>Example 2.5: Interactions via Python scripting</title><meta charset=utf-8><meta name="MeVisLab Documentation" content="Welcome to MeVisLab Documentation."><meta name=dc.relation content="https://mevislab.github.io/examples/"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=theme-color content="#1A94D2"><base href=https://mevislab.github.io/examples/><link rel=stylesheet href=https://mevislab.github.io/examples/css/styles.min.css media=screen><link rel='shortcut icon' type=image/x-icon href=https://mevislab.github.io/examples/favicon.ico><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/googlecode.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/stan.min.js></script>
<script src=https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js></script>
<link rel=stylesheet href=https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css><script>document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll("pre code").forEach(e=>{hljs.highlightElement(e)})}),hljs.configure({ignoreUnescapedHTML:!0})</script></head><body><div id=carousel class="carousel slide carousel-fade" data-bs-ride=carousel><div class=carousel-indicators><button type=button data-bs-target=#carouselExampleIndicators data-bs-slide-to=0 class=active aria-current=true aria-label="Slide 1"></button>
<button type=button data-bs-target=#carouselExampleIndicators data-bs-slide-to=1 aria-label="Slide 2"></button>
<button type=button data-bs-target=#carouselExampleIndicators data-bs-slide-to=2 aria-label="Slide 3"></button></div><div class="carousel-inner text-center"><div class="carousel-item active"><img src=https://mevislab.github.io/examples/images/Banner.png class=img-fluid alt="MeVisLab Documentation"></div><div class=carousel-item><img src=https://mevislab.github.io/examples/images/Banner2.png class=img-fluid alt="MeVisLab Documentation"></div><div class=carousel-item><img src=https://mevislab.github.io/examples/images/Banner3.png class=img-fluid alt="MeVisLab Documentation"></div></div></div><div class="my-header-menu d-flex justify-content-center"><nav class="navbar navbar-dark navbar-expand-lg"><div class=container-fluid><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavAltMarkup aria-controls=navbarNavAltMarkup aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavAltMarkup><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://mevislab.github.io/examples/>Home</a></li><li class=nav-item><a class=nav-link href=https://mevislab.github.io/examples/about/>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle active" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Tutorials</a><ul class=dropdown-menu><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/introduction/>Introduction</a></li><li><a class="dropdown-item active" href=https://mevislab.github.io/examples/tutorials/basicmechanisms/>Chapter I: Basic Mechanisms of MeVisLab &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/dataimport/>Example 1: Data import in MeVisLab</a></li><li><a class="dropdown-item active" href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/>Example 2: Macro Modules and Module Interaction &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/package/>Example 2.1: Package Creation</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/globalmacromodules/>Example 2.2: Creation of Global Macro Modules</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/helpfiles/>Example 2.3: Creation of module help</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/guidesign/>Example 2.4: GUI development</a></li><li><a class="dropdown-item active" href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/pythonscripting/>Example 2.5: Interactions via Python scripting</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/scriptingexample1/>Example 2.5.1: The module RunPythonScript</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/scriptingexample2/>Example 2.5.2: Module interactions via Python scripting</a></li></ul></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/basicmechanisms/macromodules/viewerexample/>Example 3: Creating a simple application</a></li></ul></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/openinventor/>Chapter II: Open Inventor &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/openinventor/openinventorobjects/>Example 1: Open Inventor Objects</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/openinventor/mouseinteractions/>Example 2: Mouse interactions in Open Inventor</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/openinventor/camerainteraction/>Example 3: Camera Interactions in Open Inventor</a></li></ul></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/>Chapter III: Visualization &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/visualizationexample1/>Example 1: Synchronous view of two images</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/visualizationexample2/>Example 2: Creating a magnifier</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/visualizationexample3/>Example 3: Image Overlays</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/visualizationexample4/>Example 4: Display 2D images in Open Inventor SoRenderArea</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/visualizationexample5/>Example 5: Volume rendering and interactions</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/visualization/visualizationexample6/>Example 6: MeVisLab PathTracer</a></li></ul></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/image_processing/>Chapter IV: Image Processing</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/>Chapter V: Data Objects &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/contourobjects/>Contour Objects (CSO) &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/contours/contourexample1/>Contour Example 1: Creation of Contours</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/contours/contourexample2/>Contour Example 2: Contour Interpolation</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/contours/contourexample3/>Contour Example 3: 2D and 3D Visualization of Contours</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/contours/contourexample4/>Contour Example 4: Annotation of Images</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/contours/contourexample5/>Contour Example 5: Contours and Ghosting</a></li></ul></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/surfaceobjects/>Surface Objects (WEM) &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/surfaces/surfaceexample1/>Surface Example 1: Creation of WEMs</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/surfaces/surfaceexample2/>Surface Example 2: Processing and Modification of WEM</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/surfaces/surfaceexample3/>Surface Example 3: Interactions with WEM</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/surfaces/surfaceexample4/>Surface Example 4: Interactively moving WEM</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/surfaces/surfaceexample5/>Surface Example 5: WEM - Primitive Value Lists</a></li></ul></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/markerobjects/>Marker Objects &#187;</a><ul class="dropdown-menu dropdown-submenu"><li><a class=dropdown-item href=https://mevislab.github.io/examples/tutorials/dataobjects/markers/markerexample1/>Example 1: Distance between Markers</a></li></ul></li></ul></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Examples</a><ul class=dropdown-menu><li><a class=dropdown-item href=https://mevislab.github.io/examples/examples/basic_mechanisms/>Basic Mechanisms</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/examples/open_inventor/>Open Inventor</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/examples/data_objects/>Data Objects</a></li><li><a class=dropdown-item href=https://mevislab.github.io/examples/examples/visualization/>Visualization Examples</a></li></ul></li><li class=nav-item><a class=nav-link href=https://mevislab.github.io/examples/contact/>Contact</a></li></ul><form class="d-flex px-4" id=custom-search name=custom-search method=post><input id=custom-search-field name=search title="Search String" class="form-control me-2" type=search placeholder=Search aria-label=Search>
<button id=search_submit class="btn btn-outline-light" type=submit>Search</button></form></div></div><div class=autocomplete-dropdown-container id=custom-search-results data-popper-placement=bottom style="width:100px;position:absolute;inset:0 0 auto 0;margin-left:4px;transform:translate3d(400px,60px,0)"><div class="dropdown-menu dropdown-submenu"></div></div><script>let button=document.getElementById("search_submit");button.onclick=function(e){e.preventDefault();var t=document.getElementById("custom-search-field").value,n="https://mevislab.github.io/examples//search?query="+encodeURIComponent(t);location.href=n};let params={json_src:"https://mevislab.github.io/examples//index.json",minlength:3,defaultsearch:"AND",sort_date:"DESC",autocomplete:1,section_search:0,badwords:"and,or,but,if,when,the,a,an,one",json_wait:"<p><em>Searching...</em></p>",json_ready:"",extern_icon:" (external Link)",err_badstring:"",err_noresult:"<p><em>NO RESULTS</em></p>",err_norequest:"",err_filefailed:'<p style="text-align: center;color: red;">Error.</p>',res_one_item:"<p><em>[CNT] RESULT</em></p>",res_more_items:"<p><em>[CNT] RESULTS</em></p>",res_out_top:'<ul class="dropdown-menu show">',res_out_bottom:"</ul>",res_item_tpl:'<a class="dropdown-item" href="[URL]">[TITLE]</a>',add_searchlink:"<p></p>"},section_trans={post:"Blog"},searchfield_weight={title:5,tags:5,summary:2,content:1}</script><script type=text/javascript src=https://mevislab.github.io/examples/js/search.js></script></nav></div><div id=content class="height-100 bg-none"><div class="container pb-5 pt-3"><div class="container-fluid overflow-hidden"><div class="row vh-auto overflow-auto"><div class="col d-flex flwx-column h-sm-auto"><div class="col px-6"><a href=# title=Beginner><span class="badge bg-success">Beginner</span></a>
<a href=# title=Tutorial><span class="badge bg-secondary">Tutorial</span></a>
<a href=# title=Macro><span class="badge bg-secondary">Macro</span></a>
<a href=# title="Macro Modules"><span class="badge bg-secondary">Macro Modules</span></a>
<a href=# title="Global Macro"><span class="badge bg-secondary">Global Macro</span></a>
<a href=# title=Python><span class="badge bg-secondary">Python</span></a>
<a href=# title=Scripting><span class="badge bg-secondary">Scripting</span></a><h1 id=TutorialPythonScripting>Example 2.5: Module Interactions Using Python Scripting</h1><h2 id=introduction>Introduction</h2><p>This chapter will give you an overview over Python scripting in MeVisLab. Here, no introduction into Python will be given. However, basic knowledge in Python is helpful. Instead, we will show how to integrate and use Python in the MeVisLab SDK.</p><p>In fact, nearly everything in MeVisLab can be done via Python scripting: You can add modules to your network, or remove modules, you can dynamically establish and remove connections and so on. But, much more important: You can access module inputs and outputs, as well as module fields to process their parameters and data. You can equip user interfaces and panel with custom functionalities. Python can be used to implement module interactions. When you open a panel or you press a button in a panel, the executed actions are implement via Python scripting.</p><h2 id=basics>Basics</h2><p>To see how to access modules, fields, and so on, open the <em>Scripting Console</em> Via <i>[
Scripting
&rarr;
Show Scripting Console
]</i>.</p><h3 id=internal-field-names>Internal field names</h3><p>You can find the internal name of one module field in the respective network. Open a panel, for example the Automatic Panle and right-click
<img width=22px src=https://mevislab.github.io/examples/images/rmb.svg alt="Right Mouse Button">
the field&rsquo;s title to open the field&rsquo;s context menu. Now, you can select <em>Copy Name</em>, to copy the internal name of the field. This name can be used to access the field via scripting.</p><h3 id=scripting-context>Scripting context</h3><p>When entering <em>ctx</em> to the console, you can see the context you are working with. In the context of the <em>Scripting Console</em>, you have access to your workspace, meaning the whole network, its modules and the module fields.</p><p><p class=page-image><a data-modal=bs-lightbox href=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_02.png title="Scripting context"><img id="Scripting context" class="img-fluid rounded" src=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_02.png alt="Scripting context" title="Scripting context"></a><figcaption class=figure-caption>Scripting context</figcaption></p></p><h3 id=editing-the-workspace>Editing the workspace</h3><p>In the <em>Scripting Console</em>, you can add and connect modules using the following commands:</p><ul><li><em>ctx.addModule("</em>&lt; ModuleName ><em>")</em> : Add the desired module to your workspace.</li><li><em>ctx.field("</em> &lt; ModuleName.FieldName> <em>")</em> : Access a field of a module.</li><li><em>ctx.field("</em> &lt; ModuleInput > <em>").conntectFrom("</em> &lt; ModuleOutput > <em>")</em> : Draw a connection from one module&rsquo;s output to another module&rsquo;s input.</li></ul><p>In this case we added the modules <code>DicomImport</code> and <code>View2D</code> to the workspace and connected both modules.</p><p><p class=page-image><a data-modal=bs-lightbox href=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_03.png title="Add and connect modules via scripting"><img id="Add and connect modules via scripting" class="img-fluid rounded" src=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_03.png alt="Add and connect modules via scripting" title="Add and connect modules via scripting"></a><figcaption class=figure-caption>Add and connect modules via scripting</figcaption></p></p><p>It is also possible to add notes to your workspace.</p><p><p class=page-image><a data-modal=bs-lightbox href=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_04.png title="Add a note to your workspace"><img id="Add a note to your workspace" class="img-fluid rounded" src=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_04.png alt="Add a note to the workspace" title="Add a note to your workspace"></a><figcaption class=figure-caption>Add a note to your workspace</figcaption></p></p><h3 id=access-modules-and-module-fields>Access modules and module fields</h3><p>You can access modules via <em>ctx.module("</em> &lt; ModuleName > <em>")</em>. From this object, you can access module fields, module inputs and outputs and everything in context of this module.</p><p>You can also directly access a module field via <em>ctx.field("</em> &lt; ModuleName.FieldName > <em>")</em>. Different methods can be called on this object. Take a look at the
<a href=https://mevislabdownloads.mevis.de/docs/current/MeVisLab/Resources/Documentation/Publish/SDK/ScriptingReference/group__scripting.html target=_blank>Scripting Reference</a>
to find out which methods can be called for which object or class. You can for example access the value of the respective field.</p><p><p class=page-image><a data-modal=bs-lightbox href=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_05.png title="Access modules and module fields"><img id="Access modules and module fields" class="img-fluid rounded" src=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_05.png alt="Access modules and module fields" title="Access modules and module fields"></a><figcaption class=figure-caption>Access modules and module fields</figcaption></p></p><h3 id=python-scripting-reference>Python Scripting Reference</h3><p><a href=https://mevislabdownloads.mevis.de/docs/current/MeVisLab/Resources/Documentation/Publish/SDK/ScriptingReference/group__scripting.html target=_blank>Here</a>
, you can find the Scripting Reference. In the Scripting Reference you can find information about different Python classes used in MeVisLab and their methods.</p><h2 id=where-and-how-to-use-python-scripting>Where and how to use Python scripting</h2><h4 id=scripting-view>Scripting View</h4><p>Under <i>[
View
&rarr;
Views
&rarr;
Scripting
]</i> you can find the View <em>Scripting</em>. The view offers a standard Python console, without any meaningful network or module context. This means only general Python functionalities can be tested and used. Access to modules or your network is not possible.</p><h4 id=scripting-console>Scripting Console</h4><p>You can open the <em>Scripting Console</em> via <i>[
Scripting
&rarr;
Show Scripting Console
]</i>. In the context of your workspace, you can access your network and modules.</p><h4 id=scripting-console-of-modules>Scripting console of modules</h4><p>Every module offers a scripting console. Open the context menu of a module and select <i>[
Show Window
&rarr;
Scripting Console
]</i>. You can work in the context (<em>ctx.</em>) of this module.</p><h4 id=module-runpythonscript>Module <code>RunPythonScript</code></h4><p>The module <code>RunPythonScript</code> allows to execute Python scripts from within a MeVisLab network. You can draw parameter connection from modules to <code>RunPythonScript</code> and back, to process parameter fields using Python scripting. An example for the usage of <code>RunPythonScript</code> can be found <a href=../scriptingexample1/>here</a>.</p><h4 id=module-interactions-via-python-scripting>Module interactions via Python scripting</h4><p>You can reference to a Python function inside a <em>.script</em> file of a macro module. With this, you can for example execute a Python function, whenever you open a panel, define the action which is executed when pressing a button or specify the command triggered by a <a href=../guidesign#fieldlisteners>field listener</a>. An example for module interactions via Python scripting is given <a href=../scriptingexample2/>here</a>.</p><h2 id=tips-and-tricks>Tips and tricks</h2><h4 id=scripting-assistant>Scripting Assistant</h4><p>Under <i>[
View
&rarr;
Views
&rarr;
Scripting Assistant
]</i> you can find the view <em>Scripting Assistant</em>. In this view, the actions you execute in the workspace are translated into Python script.</p><p>For example: Open the <em>Scripting Assistant</em>. Add the module <code>WEMInitialize</code> to your workspace. You can select a <em>Model</em>, for example the cube. In addition, you can change the <em>Translation</em> and press <em>Apply</em>. All these actions can be seen in the <em>Scripting Assistant</em>, translated into Python code. Therefore, the <em>Scripting Assistant</em> is a powerful tool to help you to script you actions.</p><p><p class=page-image><a data-modal=bs-lightbox href=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_01.png title="Scripting Assistant"><img id="Scripting Assistant" class="img-fluid rounded" src=https://mevislab.github.io/examples/images/tutorials/basicmechanics/Scripting_01.png alt="Scripting Assistant" title="Scripting Assistant"></a><figcaption class=figure-caption>Scripting Assistant</figcaption></p></p><h2 id=examples>Examples</h2><p>See the following examples for Python Scripting:</p><ol><li><a href=./tutorials/basicmechanisms/macromodules/scriptingexample1/>The module RunPythonScript</a></li><li><a href=./tutorials/basicmechanisms/macromodules/scriptingexample2/>Module interactions via Python scripting</a></li></ol><h2 id=summary>Summary</h2><ul><li>Python can be used to access, create and process networks, modules, fields and panels.</li><li>You can use Python via different scripting consoles.</li><li>You can also define module costume module interactions by referencing to Python functions from the <em>.script</em> file</li></ul></div></div></div></div></div><script>const body_element=document.querySelector("html body"),modal_div=document.createElement("div");let modal_window=document.body.appendChild(modal_div),modal_html='<div class="modal fade" id="lightboxModalFullscreen" tabindex="-1" aria-labelledby="lightboxModalFullscreenLabel" aria-hidden="true"><div class="modal-dialog modal-fullscreen" data-bs-dismiss="modal" aria-label="Close"><div class="modal-content border-0"><div class="modal-body d-flex align-self-center align-items-center justify-content-center"><div class="modal-custom"><img src="" id="LightboxCanvas" class="img-fluid" data-bs-dismiss="modal" aria-label="Close" /><figcaption id="LightboxCaption" class="figure-caption"></figcaption></div></div></div></div></div>';modal_window.innerHTML=modal_html,Array.from(document.querySelectorAll('[data-modal*="bs-lightbox"]')).forEach(e=>{e.setAttribute("data-bs-toggle","modal"),e.setAttribute("data-bs-target","#lightboxModalFullscreen"),e.addEventListener("click",t=>{const n=e.getAttribute("href"),s=e.getAttribute("title");document.getElementById("LightboxCanvas").src=n,document.getElementById("LightboxCaption").innerHTML=s,t.preventDefault(),console.log(n)})}),hljs.addPlugin(new CopyButtonPlugin({hook:(e)=>e}))</script></div><footer class="footer fixed-bottom mt-auto py-3"><div class="row footer-text"><div class="col-12 col-md text-center text-md-left text-white">(c) Copyright 2022 - MeVis Medical Solutions AG <a href=https://www.mevis.de target=_blank>https://www.mevis.de</a> - More Information: <a href=https://www.mevislab.de target=_blank>https://www.mevislab.de</a></div></div><script src=https://mevislab.github.io/examples/js/bundle.min.js defer></script></footer></body></html>